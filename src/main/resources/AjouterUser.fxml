<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.effect.DropShadow?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.paint.Color?>
<?import javafx.scene.paint.LinearGradient?>
<?import javafx.scene.paint.Stop?>
<?import java.net.URL?>

<VBox xmlns="http://javafx.com/javafx/20" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="gui.AjouterUserController"
      spacing="20" prefWidth="900" prefHeight="700"
      alignment="CENTER" styleClass="main-container">

    <stylesheets>
        <URL value="@styles.css" />
    </stylesheets>

    <!-- Header Section -->
    <Label text="SPORTIFY" style="-fx-font-size: 48px; -fx-font-weight: bold; -fx-text-fill: linear-gradient(from 0% 0% to 100% 0%, #FF6600 0%, #FFAA00 100%);">
        <effect>
            <DropShadow color="#FF6600" radius="15" spread="0.6"/>
        </effect>
        <VBox.margin>
            <Insets top="30" bottom="30"/>
        </VBox.margin>
    </Label>

    <!-- Form Container -->
    <GridPane styleClass="form-container">
        <padding>
            <Insets top="30" right="40" bottom="30" left="40"/>
        </padding>
        <columnConstraints>
            <ColumnConstraints percentWidth="40"/>
            <ColumnConstraints percentWidth="60"/>
        </columnConstraints>

        <!-- Form Elements -->
        <Label text="First Name:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
        <TextField fx:id="firstNameField" promptText="Enter your first name"
                   styleClass="form-textfield" GridPane.columnIndex="1" GridPane.rowIndex="0"/>

        <Label text="Last Name:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
        <TextField fx:id="lastNameField" promptText="Enter your last name"
                   styleClass="form-textfield" GridPane.columnIndex="1" GridPane.rowIndex="1"/>

        <Label text="Email:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
        <TextField fx:id="emailField" promptText="Enter your email"
                   styleClass="form-textfield" GridPane.columnIndex="1" GridPane.rowIndex="2"/>

        <Label text="Password:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="3"/>
        <TextField fx:id="passwordField" promptText="Enter your password"
                   styleClass="form-textfield" GridPane.columnIndex="1" GridPane.rowIndex="3"/>

        <Label text="Age:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="4"/>
        <TextField fx:id="ageField" promptText="Enter your age"
                   styleClass="form-textfield" GridPane.columnIndex="1" GridPane.rowIndex="4"/>

        <Label text="CIN:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="5"/>
        <TextField fx:id="cinField" promptText="Enter your CIN"
                   styleClass="form-textfield" GridPane.columnIndex="1" GridPane.rowIndex="5"/>

        <Label text="Phone Number:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="6"/>
        <TextField fx:id="phoneNumberField" promptText="Enter your phone number"
                   styleClass="form-textfield" GridPane.columnIndex="1" GridPane.rowIndex="6"/>

        <Label text="Location:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="7"/>
        <TextField fx:id="locationField" promptText="Enter your location"
                   styleClass="form-textfield" GridPane.columnIndex="1" GridPane.rowIndex="7"/>

        <!-- Role -->
        <Label text="Role:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="8"/>
        <ComboBox fx:id="roleComboBox" promptText="Select role"
                  styleClass="form-textfield" GridPane.columnIndex="1" GridPane.rowIndex="8"/>

        <!-- Add User Button -->
        <Button fx:id="AddButton" text="Add User" onAction="#handleAddUser"
                styleClass="submit-button" GridPane.columnIndex="1" GridPane.rowIndex="9"
                GridPane.halignment="RIGHT"/>

        <!-- CAPTCHA Section -->
        <Label text="Verify you're human:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="10"/>
        <HBox fx:id="captchaBox" spacing="10" GridPane.columnIndex="1" GridPane.rowIndex="10">
            <Label fx:id="captchaLabel" style="-fx-font-size: 18px; -fx-font-weight: bold;"/>
            <TextField fx:id="captchaInput" promptText="Enter CAPTCHA" style="-fx-prompt-text-fill: #999999; -fx-background-color: #f0f0f0;"/>
            <Button fx:id="refreshCaptchaButton" text="Refresh" onAction="#refreshCaptcha"/>
        </HBox>
    </GridPane>
</VBox>